<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tencoding.wherego.repository.interfaces.TagRepository"> 

	<select id = "findMainTags" resultType="com.tencoding.wherego.dto.Tag">
		select * from tagmanager where parent_tag = 1 order by tag_id asc;
	</select>

	<select id = "findSubTags" resultType="com.tencoding.wherego.dto.Tag">
		select * from tagmanager where parent_tag = #{parentTag} order by tag_id asc;
	</select>
	
	<insert id="saveTags">
		insert into tagmanager(tag_name,parent_tag)
		values( #{tagName}, #{parentTag})
	</insert>	

	
	<update id="editTag">
		update tagmanager set tag_name = #{editTagName} where tag_id = #{tagId}
	</update>
	
	
	<delete id="deleteByTagId">
		delete from tagmanager where tag_id = #{tagId}
	</delete>
	
</mapper>